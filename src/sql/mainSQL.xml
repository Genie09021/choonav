<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
  <mapper namespace="main">
  
  	<insert id="addUser" parameterType="userDTO">
		insert into users(code, userId, pw, name, email, tel, dept, position) values(#{code}, #{userId}, #{pw}, #{name}, #{email}, #{tel}, #{dept}, #{position})		
  	</insert>
  	
  	<insert id="addBiz" parameterType="busDTO">
  		insert into business values(#{code},#{bizName},#{bizCEO},#{bizNumber},#{bizTel},#{bizEmail})
  	</insert>
  	
  	<insert id="addCat" parameterType="catDTO">
  		insert into category values(#{code}, #{approval}, #{mail}, #{attend}, #{project}, #{calendar}, #{reservation}, #{board}, #{poll})
  	</insert>
  	<select id="idPwCheck" parameterType="userDTO" resultType="int">
  		select count(*) from users where userId=#{userId}
  		<if test="pw != null">and pw=#{pw}</if>
  	</select>
  	<select id="codeCheck" parameterType="busDTO" resultType="int">
  		select count(*) from business where code=#{code}
  	</select>
  	
  	
  </mapper>